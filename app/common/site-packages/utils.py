# Copyright (C) 2022 Georgia Tech Center for Experimental Research in Computer
# Systems

import time


def RPC_WRAPPER(logger, logline):

  def wrapper(f, *args, **kwargs):
    start_time = time.monotonic()
    ret = f(*args, **kwargs)
    latency = time.monotonic() - start_time
    if logger:
      logger.info(logline + (" lat=%.9f" % latency))
    return ret

  return wrapper
